<!-- <h1 class="headline">{{ clickedSvgElement || 'No selected element' }}</h1> -->

<div class="container"
     *ngIf="simulationConfigLoaded$ | async as config; else loading">
  <div class="controls-container">
    <span>
      Select configuration:
    </span>
    <mat-form-field appearance="fill">
      <mat-label>Select configuration</mat-label>
      <mat-select [formControl]="selectedConfig">
        <mat-option [value]="'default'">Default</mat-option>
        <mat-option [value]="'latest'">Latest</mat-option>
      </mat-select>
    </mat-form-field>
    <div>
      <button mat-fab
              extended
              color="primary"
              type="button">
        <mat-icon>save</mat-icon>
        Save config
      </button>
      <!--      <button mat-raised-button color="secondary">-->
      <!--        Reset-->
      <!--      </button>-->
      <button mat-fab
              extended
              type="button"
              [color]="'accent'"
              (click)="processConfig()">
        <mat-icon>play_arrow</mat-icon>
        Show simulation
      </button>
    </div>
  </div>
  <div #layout
       class="map-wrapper"
       [inlineSVG]="'assets/VISIO_12_12_2022.svg'"
       (onSVGInserted)="svgLoaded()"
       appSvgElementsClickListener
       (appSvgElementsClickListenerChange)="svgClicked($event)"
       appSvgElementsRightClickListener
       (appSvgElementsRightClickListenerChange)="svgClicked($event, true)"
       appSvgElementsHoverListener
       [configurableShapes]="configurableShapes$ | async"></div>
</div>

<!-- an hidden div is created to set the position of appearance of the menu-->
<div style="visibility: hidden; position: fixed;"
     [style.left]="menuTopLeftPosition.x"
     [style.top]="menuTopLeftPosition.y"
     [matMenuTriggerFor]="rightMenu"></div>

<!-- standard material menu --> 
<mat-menu #rightMenu="matMenu"> 
  <ng-template matMenuContent let-unit_type="unit_type" let-unit_id="unit_id"> 
    <button mat-menu-item (click)="enable(unit_type, unit_id)">Enable</button> 
    <button mat-menu-item (click)="disable(unit_type, unit_id)">Disable</button> 
  </ng-template> 
</mat-menu> 

<ng-template #loading>
  <div class="container">
    Loading
  </div>
</ng-template>